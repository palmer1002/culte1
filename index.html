<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yesu le Agb√© B√© Ch√¢teau</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2e7d32;
            --accent: #ff9800;
            --bg: #f0f4f8;
            --whatsapp: #25D366;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            background: white;
            width: 100%;
            max-width: 400px;
            border-radius: 25px;
            padding: 35px 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        h1 {
            color: var(--primary);
            font-size: 1.5em;
            margin: 10px 0;
            line-height: 1.2;
        }

        .church-icon {
            color: var(--accent);
            font-size: 2.8em;
            margin-bottom: 5px;
        }

        .location {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 25px;
        }

        .countdown-box {
            background: #fffdf0;
            border: 1px solid #ffe082;
            border-radius: 20px;
            padding: 25px 10px;
            margin: 20px 0;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .timer-grid {
            display: flex;
            justify-content: space-around;
        }

        .timer-value {
            display: block;
            font-size: 1.6em;
            font-weight: 800;
            color: #d32f2f;
        }

        .timer-label {
            display: block;
            font-size: 0.7em;
            color: #777;
            text-transform: uppercase;
            margin-top: 4px;
        }

        .status-msg {
            color: var(--primary);
            font-weight: bold;
            font-size: 1.2em;
            margin: 0;
        }

        .social-btns {
            margin-top: 30px;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            color: white;
            text-decoration: none;
            padding: 16px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.05em;
            background: var(--whatsapp);
            transition: 0.3s;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .btn:active {
            transform: scale(0.95);
        }
    </style>
</head>

<body>
    <div class="container">
        <i class="fa-solid fa-church church-icon"></i>
        <h1>Eglise Yesu le Agb√© B√© Ch√¢teau</h1>

        <p class="location">
            <i class="fa-solid fa-location-dot"></i> Rue de l‚ÄôOcam, au bord du goudron
        </p>

        <div class="countdown-box">
            <div id="status-title"
                style="font-size: 0.85em; font-weight: bold; margin-bottom: 15px; color: #856404; letter-spacing: 1px;">
                <i class="fa-solid fa-hourglass-half fa-spin"></i> PROCHAIN CULTE DANS :
            </div>
            <div id="timer-content">
                <div class="timer-grid" id="timer-display">
                    <div class="timer-unit"><span class="timer-value" id="days">00</span><span
                            class="timer-label">Jours</span></div>
                    <div class="timer-unit"><span class="timer-value" id="hours">00</span><span
                            class="timer-label">Heures</span></div>
                    <div class="timer-unit"><span class="timer-value" id="minutes">00</span><span
                            class="timer-label">Min</span></div>
                    <div class="timer-unit"><span class="timer-value" id="seconds">00</span><span
                            class="timer-label">Sec</span></div>
                </div>
            </div>
        </div>

        <div class="social-btns">
            <a href="https://facebook.com/votrepage" target="_blank" class="btn btn-facebook">
                <i class="fa-brands fa-facebook fa-xl"></i> Suivez-nous sur Facebook
            </a>
            <a href="https://wa.me/22890045869" class="btn">
                <i class="fa-brands fa-whatsapp fa-xl"></i> Nous contacter sur WhatsApp
            </a>
        </div>
    </div>

    <script>
        function getNextServiceStart() {
            const now = new Date();
            let target = new Date();
            let dayDiff = (7 - now.getDay()) % 7;

            // Si c'est dimanche, on v√©rifie si 12h15 est pass√©
            if (now.getDay() === 0) {
                const currentMinutes = now.getHours() * 60 + now.getMinutes();
                if (currentMinutes >= (12 * 60 + 15)) {
                    dayDiff = 7;
                }
            }

            target.setDate(now.getDate() + dayDiff);
            target.setHours(6, 30, 0, 0);
            return target;
        }

        function updateTimer() {
            const now = new Date();
            const nowTs = now.getTime();
            const targetDate = getNextServiceStart();
            const targetTs = targetDate.getTime();

            const titleEl = document.getElementById("status-title");
            const contentEl = document.getElementById("timer-content");

            // Minutes actuelles pour les paliers du dimanche
            const currentMin = now.getHours() * 60 + now.getMinutes();
            const ecoleEnd = 7 * 60 + 30;    // 07:30
            const culteEnd = 12 * 60 + 15;   // 12:15

            // SI NOUS SOMMES DIMANCHE MATIN
            if (now.getDay() === 0 && currentMin >= 390 && currentMin < culteEnd) {
                titleEl.innerHTML = "‚ú® BIENVENUE ‚ú®";
                if (currentMin < ecoleEnd) {
                    contentEl.innerHTML = "<p class='status-msg'>üìñ √âcole du Dimanche <br> en cours...</p>";
                } else {
                    contentEl.innerHTML = "<p class='status-msg'>üôè Culte Dominical <br> en cours...</p>";
                }
                return;
            }

            // SINON : MODE COMPTE √Ä REBOURS
            titleEl.innerHTML = '<i class="fa-solid fa-hourglass-half fa-spin"></i> PROCHAIN CULTE DANS :';
            // Restaurer la grille si elle a √©t√© effac√©e par le message "en cours"
            if (!document.getElementById("timer-display")) {
                contentEl.innerHTML = `
                    <div class="timer-grid" id="timer-display">
                        <div class="timer-unit"><span class="timer-value" id="days">00</span><span class="timer-label">Jours</span></div>
                        <div class="timer-unit"><span class="timer-value" id="hours">00</span><span class="timer-label">Heures</span></div>
                        <div class="timer-unit"><span class="timer-value" id="minutes">00</span><span class="timer-label">Min</span></div>
                        <div class="timer-unit"><span class="timer-value" id="seconds">00</span><span class="timer-label">Sec</span></div>
                    </div>`;
            }

            let diff = targetTs - nowTs;
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById("days").innerText = d.toString().padStart(2, '0');
            document.getElementById("hours").innerText = h.toString().padStart(2, '0');
            document.getElementById("minutes").innerText = m.toString().padStart(2, '0');
            document.getElementById("seconds").innerText = s.toString().padStart(2, '0');
        }

        setInterval(updateTimer, 1000);
        updateTimer();
    </script>
</body>

</html>